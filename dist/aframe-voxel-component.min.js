!function(t){function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var n=e(3),o=e(19),i=e(28),a=e(29);AFRAME.registerComponent("voxel",{dependencies:["material"],schema:{src:{},ambientOcclusion:{"default":!0},color:{"default":!1}},init:function(){var t=this,r=new XMLHttpRequest;r.onload=function(){console.log(r.response.byteLength),t.loadVox(r.response)},r.responseType="arraybuffer",r.open("GET",this.data.src),r.send()},loadVox:function(t){this.voxels=o(t),this.resolution=this.voxels.shape,this.generateMeshFromVoxels()},generateMeshFromVoxels:function(){var t,r,e,o=this.resolution.map(function(t){return t+2}),s=i(o,"int32");for(t=0;t<this.resolution[0];t++)for(r=0;r<this.resolution[1];r++)for(e=0;e<this.resolution[2];e++){var u=this.voxels.get(t,r,e);u=u?32768|u:0,s.set(t+1,r+1,e+1,u)}var f=new THREE.MeshLambertMaterial;this.data.color||(f=this.el.components.material.material),f.setValues({vertexColors:THREE.VertexColors});for(var c=n(s),h=new THREE.Geometry,l=0,p=[],g=[],d=new Float32Array(c.length/8),y=h.faceVertexUvs[0]=[],v=0,w=0;v<c.length;){var A,u=new THREE.Vector3(-this.resolution[0]/2,0,-this.resolution[0]/2).round(),E=1,m=c[v+7],b=[];A=new THREE.Vector2,A.x=d[w++]=c[v+0]+u.x,A.y=d[w++]=c[v+1]+u.y,A.x+=d[w++]=c[v+2]+u.z,h.vertices.push(new THREE.Vector3(c[v+0],c[v+1],c[v+2]).add(u).multiplyScalar(E)),p.push((c[v+0]+u.x)*E,(c[v+1]+u.y)*E,(c[v+2]+u.z)*E),b.push(A),v+=8,A=new THREE.Vector2,A.x=d[w++]=c[v+0]+u.x,A.y=d[w++]=c[v+1]+u.y,A.x+=d[w++]=c[v+2]+u.z,h.vertices.push(new THREE.Vector3(c[v+0],c[v+1],c[v+2]).add(u).multiplyScalar(E)),p.push((c[v+0]+u.x)*E,(c[v+1]+u.y)*E,(c[v+2]+u.z)*E),b.push(A),v+=8,A=new THREE.Vector2,A.x=d[w++]=c[v+0]+u.x,A.y=d[w++]=c[v+1]+u.y,A.x+=d[w++]=c[v+2]+u.z,h.vertices.push(new THREE.Vector3(c[v+0],c[v+1],c[v+2]).add(u).multiplyScalar(E)),p.push((c[v+0]+u.x)*E,(c[v+1]+u.y)*E,(c[v+2]+u.z)*E),b.push(A),v+=8;var j=new THREE.Face3(l+0,l+1,l+2);this.data.color&&this.data.ambientOcclusion?j.vertexColors=[a[m].clone().multiplyScalar(c[v-24+3]/255),a[m].clone().multiplyScalar(c[v-16+3]/255),a[m].clone().multiplyScalar(c[v-8+3]/255)]:this.data.color?j.vertexColors=[a[m],a[m],a[m]]:this.data.ambientOcclusion&&(j.vertexColors=[(new THREE.Color).setHSL(0,0,c[v-24+3]/255),(new THREE.Color).setHSL(0,0,c[v-16+3]/255),(new THREE.Color).setHSL(0,0,c[v-8+3]/255)]),h.faces.push(j),y.push(b),g.push(l+0,l+1,l+2),l+=3}h.computeBoundingSphere(),h.computeFaceNormals(),h.computeVertexNormals(),this.mesh=new THREE.Mesh(h,f),this.el.setObject3D("mesh",this.mesh)},update:function(t){},remove:function(){},pause:function(){},play:function(){}})},function(t,r,e){function n(t,r){return t[0]-r[0]}function o(){var t,r=this.stride,e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(n);var o=new Array(e.length);for(t=0;t<o.length;++t)o[t]=e[t][1];return o}function i(t,r){var e=["View",r,"d",t].join("");0>r&&(e="View_Nil"+t);var n="generic"===t;if(-1===r){var i="function "+e+"(a){this.data=a;};	var proto="+e+".prototype;	proto.dtype='"+t+"';	proto.index=function(){return -1};	proto.size=0;	proto.dimension=-1;	proto.shape=proto.stride=proto.order=[];	proto.lo=proto.hi=proto.transpose=proto.step=	function(){return new "+e+"(this.data);};	proto.get=proto.set=function(){};	proto.pick=function(){return null};	return function construct_"+e+"(a){return new "+e+"(a);}",a=new Function(i);return a()}if(0===r){var i="function "+e+"(a,d) {	this.data = a;	this.offset = d	};	var proto="+e+".prototype;	proto.dtype='"+t+"';	proto.index=function(){return this.offset};	proto.dimension=0;	proto.size=1;	proto.shape=	proto.stride=	proto.order=[];	proto.lo=	proto.hi=	proto.transpose=	proto.step=function "+e+"_copy() {	return new "+e+"(this.data,this.offset)	};	proto.pick=function "+e+"_pick(){	return TrivialArray(this.data);	};	proto.valueOf=proto.get=function "+e+"_get(){	return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};	proto.set=function "+e+"_set(v){	return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"	};	return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}",a=new Function("TrivialArray",i);return a(h[t][0])}var i=["'use strict'"],s=u(r),f=s.map(function(t){return"i"+t}),c="this.offset+"+s.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),l=s.map(function(t){return"b"+t}).join(","),p=s.map(function(t){return"c"+t}).join(",");i.push("function "+e+"(a,"+l+","+p+",d){this.data=a","this.shape=["+l+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),i.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){	return "+s.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===r?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),4>r?(i.push("function "+e+"_order(){"),2===r?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);	if(s0>s1){	if(s1>s2){	return [2,1,0];	}else if(s0>s2){	return [1,2,0];	}else{	return [1,0,2];	}	}else if(s0>s2){	return [2,0,1];	}else if(s2>s1){	return [0,1,2];	}else{	return [0,2,1];	}}})")):i.push("ORDER})")),i.push("proto.set=function "+e+"_set("+f.join(",")+",v){"),n?i.push("return this.data.set("+c+",v)}"):i.push("return this.data["+c+"]=v}"),i.push("proto.get=function "+e+"_get("+f.join(",")+"){"),n?i.push("return this.data.get("+c+")}"):i.push("return this.data["+c+"]}"),i.push("proto.index=function "+e+"_index(",f.join(),"){return "+c+"}"),i.push("proto.hi=function "+e+"_hi("+f.join(",")+"){return new "+e+"(this.data,"+s.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+s.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var g=s.map(function(t){return"a"+t+"=this.shape["+t+"]"}),d=s.map(function(t){return"c"+t+"=this.stride["+t+"]"});i.push("proto.lo=function "+e+"_lo("+f.join(",")+"){var b=this.offset,d=0,"+g.join(",")+","+d.join(","));for(var y=0;r>y;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){	d=i"+y+"|0;	b+=c"+y+"*d;	a"+y+"-=d}");i.push("return new "+e+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"c"+t}).join(",")+",b)}"),i.push("proto.step=function "+e+"_step("+f.join(",")+"){var "+s.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+s.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var y=0;r>y;++y)i.push("if(typeof i"+y+"==='number'){	d=i"+y+"|0;	if(d<0){	c+=b"+y+"*(a"+y+"-1);	a"+y+"=ceil(-a"+y+"/d)	}else{	a"+y+"=ceil(a"+y+"/d)	}	b"+y+"*=d	}");i.push("return new "+e+"(this.data,"+s.map(function(t){return"a"+t}).join(",")+","+s.map(function(t){return"b"+t}).join(",")+",c)}");for(var v=new Array(r),w=new Array(r),y=0;r>y;++y)v[y]="a[i"+y+"]",w[y]="b[i"+y+"]";i.push("proto.transpose=function "+e+"_transpose("+f+"){"+f.map(function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+v.join(",")+","+w.join(",")+",this.offset)}"),i.push("proto.pick=function "+e+"_pick("+f+"){var a=[],b=[],c=this.offset");for(var y=0;r>y;++y)i.push("if(typeof i"+y+"==='number'&&i"+y+">=0){c=(c+this.stride["+y+"]*i"+y+")|0}else{a.push(this.shape["+y+"]);b.push(this.stride["+y+"])}");i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+s.map(function(t){return"shape["+t+"]"}).join(",")+","+s.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",i.join("\n"));return a(h[t],o)}function a(t){if(f(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function s(t,r,e,n){if(void 0===t){var o=h.array[0];return o([])}"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var s=r.length;if(void 0===e){e=new Array(s);for(var u=s-1,f=1;u>=0;--u)e[u]=f,f*=r[u]}if(void 0===n){n=0;for(var u=0;s>u;++u)e[u]<0&&(n-=(r[u]-1)*e[u])}for(var c=a(t),l=h[c];l.length<=s+1;)l.push(i(c,l.length-1));var o=l[s+1];return o(t,r,e,n)}var u=e(17),f=e(18),c="undefined"!=typeof Float64Array,h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=s},function(t,r,e){(function(t,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){function t(){}try{var r=new Uint8Array(1);return r.foo=function(){return 42},r.constructor=t,42===r.foo()&&r.constructor===t&&"function"==typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(e){return!1}}function i(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function t(r){return this instanceof t?(t.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof r?a(this,r):"string"==typeof r?s(this,r,arguments.length>1?arguments[1]:"utf8"):u(this,r)):arguments.length>1?new t(r,arguments[1]):new t(r)}function a(r,e){if(r=d(r,0>e?0:0|y(e)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)r[n]=0;return r}function s(t,r,e){"string"==typeof e&&""!==e||(e="utf8");var n=0|w(r,e);return t=d(t,n),t.write(r,e),t}function u(r,e){if(t.isBuffer(e))return f(r,e);if($(e))return c(r,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return h(r,e);if(e instanceof ArrayBuffer)return l(r,e)}return e.length?p(r,e):g(r,e)}function f(t,r){var e=0|y(r.length);return t=d(t,e),r.copy(t,0,0,e),t}function c(t,r){var e=0|y(r.length);t=d(t,e);for(var n=0;e>n;n+=1)t[n]=255&r[n];return t}function h(t,r){var e=0|y(r.length);t=d(t,e);for(var n=0;e>n;n+=1)t[n]=255&r[n];return t}function l(r,e){return t.TYPED_ARRAY_SUPPORT?(e.byteLength,r=t._augment(new Uint8Array(e))):r=h(r,new Uint8Array(e)),r}function p(t,r){var e=0|y(r.length);t=d(t,e);for(var n=0;e>n;n+=1)t[n]=255&r[n];return t}function g(t,r){var e,n=0;"Buffer"===r.type&&$(r.data)&&(e=r.data,n=0|y(e.length)),t=d(t,n);for(var o=0;n>o;o+=1)t[o]=255&e[o];return t}function d(r,e){t.TYPED_ARRAY_SUPPORT?(r=t._augment(new Uint8Array(e)),r.__proto__=t.prototype):(r.length=e,r._isBuffer=!0);var n=0!==e&&e<=t.poolSize>>>1;return n&&(r.parent=K),r}function y(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function v(r,e){if(!(this instanceof v))return new v(r,e);var n=new t(r,e);return delete n.parent,n}function w(t,r){"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"binary":case"raw":case"raws":return e;case"utf8":case"utf-8":return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return G(t).length;default:if(n)return H(t).length;r=(""+r).toLowerCase(),n=!0}}function A(t,r,e){var n=!1;if(r=0|r,e=void 0===e||e===1/0?this.length:0|e,t||(t="utf8"),0>r&&(r=0),e>this.length&&(e=this.length),r>=e)return"";for(;;)switch(t){case"hex":return S(this,r,e);case"utf8":case"utf-8":return x(this,r,e);case"ascii":return R(this,r,e);case"binary":return B(this,r,e);case"base64":return _(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function E(t,r,e,n){e=Number(e)||0;var o=t.length-e;n?(n=Number(n),n>o&&(n=o)):n=o;var i=r.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;n>a;a++){var s=parseInt(r.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[e+a]=s}return a}function m(t,r,e,n){return J(H(r,t.length-e),t,e,n)}function b(t,r,e,n){return J(V(r),t,e,n)}function j(t,r,e,n){return b(t,r,e,n)}function I(t,r,e,n){return J(G(r),t,e,n)}function U(t,r,e,n){return J(q(r,t.length-e),t,e,n)}function _(t,r,e){return 0===r&&e===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(r,e))}function x(t,r,e){e=Math.min(t.length,e);for(var n=[],o=r;e>o;){var i=t[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(e>=o+s){var u,f,c,h;switch(s){case 1:128>i&&(a=i);break;case 2:u=t[o+1],128===(192&u)&&(h=(31&i)<<6|63&u,h>127&&(a=h));break;case 3:u=t[o+1],f=t[o+2],128===(192&u)&&128===(192&f)&&(h=(15&i)<<12|(63&u)<<6|63&f,h>2047&&(55296>h||h>57343)&&(a=h));break;case 4:u=t[o+1],f=t[o+2],c=t[o+3],128===(192&u)&&128===(192&f)&&128===(192&c)&&(h=(15&i)<<18|(63&u)<<12|(63&f)<<6|63&c,h>65535&&1114112>h&&(a=h))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return T(n)}function T(t){var r=t.length;if(Q>=r)return String.fromCharCode.apply(String,t);for(var e="",n=0;r>n;)e+=String.fromCharCode.apply(String,t.slice(n,n+=Q));return e}function R(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;e>o;o++)n+=String.fromCharCode(127&t[o]);return n}function B(t,r,e){var n="";e=Math.min(t.length,e);for(var o=r;e>o;o++)n+=String.fromCharCode(t[o]);return n}function S(t,r,e){var n=t.length;(!r||0>r)&&(r=0),(!e||0>e||e>n)&&(e=n);for(var o="",i=r;e>i;i++)o+=z(t[i]);return o}function P(t,r,e){for(var n=t.slice(r,e),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function O(t,r,e){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function L(r,e,n,o,i,a){if(!t.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");if(e>i||a>e)throw new RangeError("value is out of bounds");if(n+o>r.length)throw new RangeError("index out of range")}function D(t,r,e,n){0>r&&(r=65535+r+1);for(var o=0,i=Math.min(t.length-e,2);i>o;o++)t[e+o]=(r&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function N(t,r,e,n){0>r&&(r=4294967295+r+1);for(var o=0,i=Math.min(t.length-e,4);i>o;o++)t[e+o]=r>>>8*(n?o:3-o)&255}function F(t,r,e,n,o,i){if(r>o||i>r)throw new RangeError("value is out of bounds");if(e+n>t.length)throw new RangeError("index out of range");if(0>e)throw new RangeError("index out of range")}function k(t,r,e,n,o){return o||F(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,r,e,n,23,4),e+4}function C(t,r,e,n,o){return o||F(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,r,e,n,52,8),e+8}function M(t){if(t=Y(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return 16>t?"0"+t.toString(16):t.toString(16)}function H(t,r){r=r||1/0;for(var e,n=t.length,o=null,i=[],a=0;n>a;a++){if(e=t.charCodeAt(a),e>55295&&57344>e){if(!o){if(e>56319){(r-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(56320>e){(r-=3)>-1&&i.push(239,191,189),o=e;continue}e=(o-55296<<10|e-56320)+65536}else o&&(r-=3)>-1&&i.push(239,191,189);if(o=null,128>e){if((r-=1)<0)break;i.push(e)}else if(2048>e){if((r-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(65536>e){if((r-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(1114112>e))throw new Error("Invalid code point");if((r-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function V(t){for(var r=[],e=0;e<t.length;e++)r.push(255&t.charCodeAt(e));return r}function q(t,r){for(var e,n,o,i=[],a=0;a<t.length&&!((r-=2)<0);a++)e=t.charCodeAt(a),n=e>>8,o=e%256,i.push(o),i.push(n);return i}function G(t){return X.toByteArray(M(t))}function J(t,r,e,n){for(var o=0;n>o&&!(o+e>=r.length||o>=t.length);o++)r[o+e]=t[o];return o}var X=e(21),Z=e(22),$=e(23);r.Buffer=t,r.SlowBuffer=v,r.INSPECT_MAX_BYTES=50,t.poolSize=8192;var K={};t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:o(),t.TYPED_ARRAY_SUPPORT?(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array):(t.prototype.length=void 0,t.prototype.parent=void 0),t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(r,e){if(!t.isBuffer(r)||!t.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(r===e)return 0;for(var n=r.length,o=e.length,i=0,a=Math.min(n,o);a>i&&r[i]===e[i];)++i;return i!==a&&(n=r[i],o=e[i]),o>n?-1:n>o?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(r,e){if(!$(r))throw new TypeError("list argument must be an Array of Buffers.");if(0===r.length)return new t(0);var n;if(void 0===e)for(e=0,n=0;n<r.length;n++)e+=r[n].length;var o=new t(e),i=0;for(n=0;n<r.length;n++){var a=r[n];a.copy(o,i),i+=a.length}return o},t.byteLength=w,t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):A.apply(this,arguments)},t.prototype.equals=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:0===t.compare(this,r)},t.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(r){if(!t.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?0:t.compare(this,r)},t.prototype.indexOf=function(r,e){function n(t,r,e){for(var n=-1,o=0;e+o<t.length;o++)if(t[e+o]===r[-1===n?0:o-n]){if(-1===n&&(n=o),o-n+1===r.length)return e+n}else n=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof r)return 0===r.length?-1:String.prototype.indexOf.call(this,r,e);if(t.isBuffer(r))return n(this,r,e);if("number"==typeof r)return t.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,r,e):n(this,[r],e);throw new TypeError("val must be string, number or Buffer")},t.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},t.prototype.set=function(t,r){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,r)},t.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else if(isFinite(r))r=0|r,isFinite(e)?(e=0|e,void 0===n&&(n="utf8")):(n=e,e=void 0);else{var o=n;n=r,r=0|e,e=o}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(0>e||0>r)||r>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return E(this,t,r,e);case"utf8":case"utf-8":return m(this,t,r,e);case"ascii":return b(this,t,r,e);case"binary":return j(this,t,r,e);case"base64":return I(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r,e);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;t.prototype.slice=function(r,e){var n=this.length;r=~~r,e=void 0===e?n:~~e,0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),r>e&&(e=r);var o;if(t.TYPED_ARRAY_SUPPORT)o=t._augment(this.subarray(r,e));else{var i=e-r;o=new t(i,void 0);for(var a=0;i>a;a++)o[a]=this[a+r]}return o.length&&(o.parent=this.parent||this),o},t.prototype.readUIntLE=function(t,r,e){t=0|t,r=0|r,e||O(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return n},t.prototype.readUIntBE=function(t,r,e){t=0|t,r=0|r,e||O(t,r,this.length);for(var n=this[t+--r],o=1;r>0&&(o*=256);)n+=this[t+--r]*o;return n},t.prototype.readUInt8=function(t,r){return r||O(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,r){return r||O(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,r){return r||O(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,r){return r||O(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,r){return r||O(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,r,e){t=0|t,r=0|r,e||O(t,r,this.length);for(var n=this[t],o=1,i=0;++i<r&&(o*=256);)n+=this[t+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*r)),n},t.prototype.readIntBE=function(t,r,e){t=0|t,r=0|r,e||O(t,r,this.length);for(var n=r,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i},t.prototype.readInt8=function(t,r){return r||O(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},t.prototype.readInt16LE=function(t,r){r||O(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt16BE=function(t,r){r||O(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},t.prototype.readInt32LE=function(t,r){return r||O(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,r){return r||O(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,r){return r||O(t,4,this.length),Z.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,r){return r||O(t,4,this.length),Z.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,r){return r||O(t,8,this.length),Z.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,r){return r||O(t,8,this.length),Z.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,r,e,n){t=+t,r=0|r,e=0|e,n||L(this,t,r,e,Math.pow(2,8*e),0);var o=1,i=0;for(this[r]=255&t;++i<e&&(o*=256);)this[r+i]=t/o&255;return r+e},t.prototype.writeUIntBE=function(t,r,e,n){t=+t,r=0|r,e=0|e,n||L(this,t,r,e,Math.pow(2,8*e),0);var o=e-1,i=1;for(this[r+o]=255&t;--o>=0&&(i*=256);)this[r+o]=t/i&255;return r+e},t.prototype.writeUInt8=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,1,255,0),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[e]=255&r,e+1},t.prototype.writeUInt16LE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):D(this,r,e,!0),e+2},t.prototype.writeUInt16BE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):D(this,r,e,!1),e+2},t.prototype.writeUInt32LE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=255&r):N(this,r,e,!0),e+4},t.prototype.writeUInt32BE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):N(this,r,e,!1),e+4},t.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r=0|r,!n){var o=Math.pow(2,8*e-1);L(this,t,r,e,o-1,-o)}var i=0,a=1,s=0>t?1:0;for(this[r]=255&t;++i<e&&(a*=256);)this[r+i]=(t/a>>0)-s&255;return r+e},t.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r=0|r,!n){var o=Math.pow(2,8*e-1);L(this,t,r,e,o-1,-o)}var i=e-1,a=1,s=0>t?1:0;for(this[r+i]=255&t;--i>=0&&(a*=256);)this[r+i]=(t/a>>0)-s&255;return r+e},t.prototype.writeInt8=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,1,127,-128),t.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),0>r&&(r=255+r+1),this[e]=255&r,e+1},t.prototype.writeInt16LE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8):D(this,r,e,!0),e+2},t.prototype.writeInt16BE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>8,this[e+1]=255&r):D(this,r,e,!1),e+2},t.prototype.writeInt32LE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[e]=255&r,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24):N(this,r,e,!0),e+4},t.prototype.writeInt32BE=function(r,e,n){return r=+r,e=0|e,n||L(this,r,e,4,2147483647,-2147483648),0>r&&(r=4294967295+r+1),t.TYPED_ARRAY_SUPPORT?(this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=255&r):N(this,r,e,!1),e+4},t.prototype.writeFloatLE=function(t,r,e){return k(this,t,r,!0,e)},t.prototype.writeFloatBE=function(t,r,e){return k(this,t,r,!1,e)},t.prototype.writeDoubleLE=function(t,r,e){return C(this,t,r,!0,e)},t.prototype.writeDoubleBE=function(t,r,e){return C(this,t,r,!1,e)},t.prototype.copy=function(r,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=r.length&&(e=r.length),e||(e=0),o>0&&n>o&&(o=n),o===n)return 0;if(0===r.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),r.length-e<o-n&&(o=r.length-e+n);var i,a=o-n;if(this===r&&e>n&&o>e)for(i=a-1;i>=0;i--)r[i+e]=this[i+n];else if(1e3>a||!t.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)r[i+e]=this[i+n];else r._set(this.subarray(n,n+a),e);return a},t.prototype.fill=function(t,r,e){if(t||(t=0),r||(r=0),e||(e=this.length),r>e)throw new RangeError("end < start");if(e!==r&&0!==this.length){if(0>r||r>=this.length)throw new RangeError("start out of bounds");if(0>e||e>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof t)for(n=r;e>n;n++)this[n]=t;else{var o=H(t.toString()),i=o.length;for(n=r;e>n;n++)this[n]=o[n%i]}return this}},t.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(t.TYPED_ARRAY_SUPPORT)return new t(this).buffer;for(var r=new Uint8Array(this.length),e=0,n=r.length;n>e;e+=1)r[e]=this[e];return r.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var W=t.prototype;t._augment=function(r){return r.constructor=t,r._isBuffer=!0,r._set=r.set,r.get=W.get,r.set=W.set,r.write=W.write,r.toString=W.toString,r.toLocaleString=W.toString,r.toJSON=W.toJSON,r.equals=W.equals,r.compare=W.compare,r.indexOf=W.indexOf,r.copy=W.copy,r.slice=W.slice,r.readUIntLE=W.readUIntLE,r.readUIntBE=W.readUIntBE,r.readUInt8=W.readUInt8,r.readUInt16LE=W.readUInt16LE,r.readUInt16BE=W.readUInt16BE,r.readUInt32LE=W.readUInt32LE,r.readUInt32BE=W.readUInt32BE,r.readIntLE=W.readIntLE,r.readIntBE=W.readIntBE,r.readInt8=W.readInt8,r.readInt16LE=W.readInt16LE,r.readInt16BE=W.readInt16BE,r.readInt32LE=W.readInt32LE,r.readInt32BE=W.readInt32BE,r.readFloatLE=W.readFloatLE,r.readFloatBE=W.readFloatBE,r.readDoubleLE=W.readDoubleLE,r.readDoubleBE=W.readDoubleBE,r.writeUInt8=W.writeUInt8,r.writeUIntLE=W.writeUIntLE,r.writeUIntBE=W.writeUIntBE,r.writeUInt16LE=W.writeUInt16LE,r.writeUInt16BE=W.writeUInt16BE,r.writeUInt32LE=W.writeUInt32LE,r.writeUInt32BE=W.writeUInt32BE,r.writeIntLE=W.writeIntLE,r.writeIntBE=W.writeIntBE,r.writeInt8=W.writeInt8,r.writeInt16LE=W.writeInt16LE,r.writeInt16BE=W.writeInt16BE,r.writeInt32LE=W.writeInt32LE,r.writeInt32BE=W.writeInt32BE,r.writeFloatLE=W.writeFloatLE,r.writeFloatBE=W.writeFloatBE,r.writeDoubleLE=W.writeDoubleLE,r.writeDoubleBE=W.writeDoubleBE,r.fill=W.fill,r.inspect=W.inspect,r.toArrayBuffer=W.toArrayBuffer,r};var tt=/[^+\/0-9A-Za-z-_]/g}).call(r,e(2).Buffer,function(){return this}())},function(t,r,e){"use strict";function n(t,r,e){return e?e.get(255&t,r):255&t}function o(t,r,e){return t&&r?1:3-(t+r+e)}function i(t,r,e,n,i,a,s,u){var f=t&p?1:0,c=r&p?1:0,h=e&p?1:0,l=n&p?1:0,g=i&p?1:0,v=a&p?1:0,w=s&p?1:0,A=u&p?1:0;return(o(l,c,f)<<d)+(o(c,g,h)<<d+y)+(o(g,w,A)<<d+2*y)+(o(w,l,v)<<d+3*y)}function a(t,r,e,n,o,a,s,u,f,c,h,l,g,d,y,v,A,E){var m=!(o&p),b=!(d&p);return d&&(!o||m&&!b)?d|w|i(t,r,e,n,a,s,u,f):o&&(!d||b&&!m)?o|i(c,h,l,g,y,v,A,E):void 0}function s(){this.buffer=l.mallocUint8(1024),this.ptr=0,this.z=0,this.u=0,this.v=0,this.d=0}function u(t,r){var e=t.shape.slice(0),n=e[0]-2|0,o=e[1]-2|0,i=e[2]-2|0,a=n*o*i,s=l.mallocInt32(a),u=l.mallocInt32(a),c=l.mallocInt32(a),h=[n,o,i],p=f(s,h),g=f(u,h),d=f(c,h);E(p,g,d,t),b.ptr=0,b.voxelSideTextureIDs=r;for(var y=[p,g,d],v=0;3>v;++v){var w=(v+1)%3,A=(v+2)%3,m=y[v].transpose(v,w,A),I=m.pick(0),U=0|h[v];b.d=v,b.u=A,b.v=w;for(var _=0;U>_;++_)b.z=_,j(I),I.offset+=m.stride[0]}if(l.freeInt32(s),l.freeInt32(u),l.freeInt32(c),0===b.ptr)return null;var x=b.buffer,T=b.ptr;return b.buffer=l.mallocUint8(1024),b.ptr=0,x.subarray(0,T)}var f=e(1),c=e(4),h=e(8),l=e(16),p=32768,g=65535,d=16,y=2,v=(1<<y)-1,w=1<<d+4*y,A=8,E=function(){function t(t,r,e,n){return{name:t,lvalue:r,rvalue:e,count:n}}for(var r={args:[],thisVars:[],localVars:[],body:""},e=["scalar","array","array","array","array"],n=[t("_func",!1,!0,3),t("_o0",!0,!1,1),t("_o1",!0,!1,1),t("_o2",!0,!1,1)],o=[],i=0;3>i;++i){for(var s=(i+1)%3,u=(i+2)%3,f=[],h=0;2>h;++h)for(var l=0;2>=l;++l)for(var p=0;2>=p;++p){var g=[p,l,h];f.push(["_a",g[u],g[s],g[i]].join(""))}o.push(["_o",i,"=_func(",f.join(","),")"].join(""))}for(var d=o.join("\n"),p=-1;1>=p;++p)for(var l=-1;1>=l;++l)for(var h=-1;1>=h;++h)if(1!==p||1!==l||1!==h){-1===p&&-1===l&&-1===h||e.push({offset:[p+1,l+1,h+1],array:3});var y=["_a",p+1,l+1,h+1].join("");n.push(t(y,!1,!0,d.split(y).length-1))}return c({args:e,pre:r,body:{args:n,body:d,thisVars:[],localVars:[]},post:r,funcName:"calcAO"}).bind(void 0,a)}(),m=new Uint8Array([0,153,204,255]);s.prototype.append=function(t,r,e,o,i){var a=this.buffer,s=this.ptr>>>0,u=0|this.z,f=0|this.u,c=0|this.v,h=0|this.d;if(s+6*A>a.length){var p=l.mallocUint8(2*a.length);p.set(a),l.freeUint8(a),a=p,this.buffer=a}var E=!!(i&w),b=h+(E?3:0),j=m[i>>>d&v],I=m[i>>>d+y&v],U=m[i>>>d+2*y&v],_=m[i>>>d+3*y&v],x=n(i&g,b,this.voxelSideTextureIDs),T=128,R=128,B=128,S=E?127:129;0===h?T=S:1===h?R=S:2===h&&(B=S);var P=I+_>j+U;j+U===I+_&&(P=Math.max(j,U)<Math.max(I,_)),P?E?(a[s+f]=t,a[s+c]=r,a[s+h]=u,a[s+3]=j,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=r,a[s+h]=u,a[s+3]=I,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=o,a[s+h]=u,a[s+3]=_,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=o,a[s+h]=u,a[s+3]=U,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=o,a[s+h]=u,a[s+3]=_,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=r,a[s+h]=u,a[s+3]=I,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8):(a[s+f]=t,a[s+c]=r,a[s+h]=u,a[s+3]=j,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=o,a[s+h]=u,a[s+3]=_,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=r,a[s+h]=u,a[s+3]=I,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=o,a[s+h]=u,a[s+3]=U,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=r,a[s+h]=u,a[s+3]=I,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=o,a[s+h]=u,a[s+3]=_,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8):E?(a[s+f]=t,a[s+c]=o,a[s+h]=u,a[s+3]=_,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=r,a[s+h]=u,a[s+3]=j,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=o,a[s+h]=u,a[s+3]=U,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=r,a[s+h]=u,a[s+3]=I,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=o,a[s+h]=u,a[s+3]=U,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=r,a[s+h]=u,a[s+3]=j,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8):(a[s+f]=t,a[s+c]=r,a[s+h]=u,a[s+3]=j,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=o,a[s+h]=u,a[s+3]=_,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=o,a[s+h]=u,a[s+3]=U,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=o,a[s+h]=u,a[s+3]=U,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=e,a[s+c]=r,a[s+h]=u,a[s+3]=I,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8,a[s+f]=t,a[s+c]=r,a[s+h]=u,a[s+3]=j,a[s+4]=T,a[s+5]=R,a[s+6]=B,a[s+7]=x,s+=8),this.ptr=s};var b=new s,j=h({order:[1,0],append:s.prototype.append.bind(b)});t.exports=u},function(t,r,e){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function o(t){var r=new n;r.pre=t.pre,r.body=t.body,r.post=t.post;var e=t.args.slice(0);r.argTypes=e.slice(0);for(var o=0;o<e.length;++o){var a=e[o];if("array"===a){if(r.arrayArgs.push(o),r.shimArgs.push("array"+o),o<r.pre.args.length&&r.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<r.post.args.length&&r.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)r.scalarArgs.push(o),r.shimArgs.push("scalar"+o);else if("index"===a){if(r.indexArgs.push(o),o<r.pre.args.length&&r.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<r.body.args.length&&r.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<r.post.args.length&&r.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(r.shapeArgs.push(o),o<r.pre.args.length&&r.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<r.body.args.length&&r.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<r.post.args.length&&r.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+e[o]);r.argTypes[o]="offset",r.offsetArgs.push({array:a.array,offset:a.offset}),r.offsetArgIndex.push(o)}}if(r.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(r.pre.args.length>e.length)throw new Error("cwise: Too many arguments in pre() block");if(r.body.args.length>e.length)throw new Error("cwise: Too many arguments in body() block");if(r.post.args.length>e.length)throw new Error("cwise: Too many arguments in post() block");return r.debug=!!t.printCode||!!t.debug,r.funcName=t.funcName||"cwise",r.blockSize=t.blockSize||64,i(r)}var i=e(6);t.exports=o},function(t,r,e){"use strict";function n(t,r,e){var n,o,i=t.length,a=r.arrayArgs.length,s=r.indexArgs.length>0,u=[],f=[],c=0,h=0;for(n=0;i>n;++n)f.push(["i",n,"=0"].join(""));for(o=0;a>o;++o)for(n=0;i>n;++n)h=c,c=t[n],0===n?f.push(["d",o,"s",n,"=t",o,"[",c,"]"].join("")):f.push(["d",o,"s",n,"=(t",o,"[",c,"]-s",h,"*t",o,"[",h,"])"].join(""));for(u.push("var "+f.join(",")),n=i-1;n>=0;--n)c=t[n],u.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(u.push(e),n=0;i>n;++n){for(h=c,c=t[n],o=0;a>o;++o)u.push(["p",o,"+=d",o,"s",n].join(""));s&&(n>0&&u.push(["index[",h,"]-=s",h].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function o(t,r,e,o){for(var i=r.length,a=e.arrayArgs.length,s=e.blockSize,u=e.indexArgs.length>0,f=[],c=0;a>c;++c)f.push(["var offset",c,"=p",c].join(""));for(var c=t;i>c;++c)f.push(["for(var j"+c+"=SS[",r[c],"]|0;j",c,">0;){"].join("")),f.push(["if(j",c,"<",s,"){"].join("")),f.push(["s",r[c],"=j",c].join("")),f.push(["j",c,"=0"].join("")),f.push(["}else{s",r[c],"=",s].join("")),f.push(["j",c,"-=",s,"}"].join("")),u&&f.push(["index[",r[c],"]=j",c].join(""));for(var c=0;a>c;++c){for(var h=["offset"+c],l=t;i>l;++l)h.push(["j",l,"*t",c,"[",r[l],"]"].join(""));f.push(["p",c,"=(",h.join("+"),")"].join(""))}f.push(n(r,e,o));for(var c=t;i>c;++c)f.push("}");return f.join("\n")}function i(t){for(var r=0,e=t[0].length;e>r;){for(var n=1;n<t.length;++n)if(t[n][r]!==t[0][r])return r;++r}return r}function a(t,r,e){for(var n=t.body,o=[],i=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),f="",c=r.arrayArgs.indexOf(a);switch(r.argTypes[a]){case"offset":var h=r.offsetArgIndex.indexOf(a),l=r.offsetArgs[h];c=l.array,f="+q"+h;case"array":f="p"+c+f;var p="l"+a,g="a"+c;1===s.count?"generic"===e[c]?s.lvalue?(o.push(["var ",p,"=",g,".get(",f,")"].join("")),n=n.replace(u,p),i.push([g,".set(",f,",",p,")"].join(""))):n=n.replace(u,[g,".get(",f,")"].join("")):n=n.replace(u,[g,"[",f,"]"].join("")):"generic"===e[c]?(o.push(["var ",p,"=",g,".get(",f,")"].join("")),n=n.replace(u,p),s.lvalue&&i.push([g,".set(",f,",",p,")"].join(""))):(o.push(["var ",p,"=",g,"[",f,"]"].join("")),n=n.replace(u,p),s.lvalue&&i.push([g,"[",f,"]=",p].join("")));break;case"scalar":n=n.replace(u,"Y"+r.scalarArgs.indexOf(a));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[o.join("\n"),n,i.join("\n")].join("\n").trim()}function s(t){for(var r=new Array(t.length),e=!0,n=0;n<t.length;++n){var o=t[n],i=o.match(/\d+/);i=i?i[0]:"",0===o.charAt(0)?r[n]="u"+o.charAt(1)+i:r[n]=o.charAt(0)+i,n>0&&(e=e&&r[n]===r[n-1])}return e?r[0]:r.join("")}function u(t,r){for(var e=0|r[1].length,u=new Array(t.arrayArgs.length),c=new Array(t.arrayArgs.length),h=["SS"],l=["'use strict'"],p=[],g=0;e>g;++g)p.push(["s",g,"=SS[",g,"]"].join(""));for(var d=0;d<t.arrayArgs.length;++d)h.push("a"+d),h.push("t"+d),h.push("p"+d),c[d]=r[2*d],u[d]=r[2*d+1];for(var d=0;d<t.scalarArgs.length;++d)h.push("Y"+d);if(t.shapeArgs.length>0&&p.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var y=new Array(e),d=0;e>d;++d)y[d]="0";p.push(["index=[",y.join(","),"]"].join(""))}for(var d=0;d<t.offsetArgs.length;++d){for(var v=t.offsetArgs[d],w=[],g=0;g<v.offset.length;++g)0!==v.offset[g]&&(1===v.offset[g]?w.push(["t",v.array,"[",g,"]"].join("")):w.push([v.offset[g],"*t",v.array,"[",g,"]"].join("")));0===w.length?p.push("q"+d+"=0"):p.push(["q",d,"=(",w.join("+"),")|0"].join(""))}var A=f([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));p=p.concat(A),l.push("var "+p.join(","));for(var d=0;d<t.arrayArgs.length;++d)l.push("p"+d+"|=0");t.pre.body.length>3&&l.push(a(t.pre,t,c));var E=a(t.body,t,c),m=i(u);e>m?l.push(o(m,u[0],t,E)):l.push(n(u[0],t,E)),t.post.body.length>3&&l.push(a(t.post,t,c)),t.debug&&console.log("Generated cwise routine for ",r,":\n\n",l.join("\n"));var b=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",m,s(c)].join(""),j=new Function(["function ",b,"(",h.join(","),"){",l.join("\n"),"} return ",b].join(""));return j()}var f=e(7);t.exports=u},function(t,r,e){"use strict";function n(t){var r=["'use strict'","var CACHED={}"],e=[],n=t.funcName+"_cwise_thunk";r.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],s=[["array",t.arrayArgs[0],".shape"].join("")],u=0;u<t.arrayArgs.length;++u){var f=t.arrayArgs[u];e.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),i.push("t"+f),i.push("r"+f),a.push("t"+f),a.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0")}for(var u=0;u<t.scalarArgs.length;++u)s.push("scalar"+t.scalarArgs[u]);e.push(["type=[",a.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),r.push("var "+e.join(",")),r.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("Generated thunk:",r.join("\n"));var c=new Function("compile",r.join("\n"));return c(o.bind(void 0,t))}var o=e(5);t.exports=n},function(t,r){"use strict";function e(t,r){for(var e=1,n=t.length,o=t[0],i=t[0],a=1;n>a;++a)if(i=o,o=t[a],r(o,i)){if(a===e){e++;continue}t[e++]=o}return t.length=e,t}function n(t){for(var r=1,e=t.length,n=t[0],o=t[0],i=1;e>i;++i,o=n)if(o=n,n=t[i],n!==o){if(i===r){r++;continue}t[r++]=n}return t.length=r,t}function o(t,r,o){return 0===t.length?[]:r?(o||t.sort(r),e(t,r)):(o||t.sort(),n(t))}t.exports=o},function(t,r,e){"use strict";function n(t,r,e,n,o,s,u){var f,c,h=[],l=t.length,p=new Array(2*l+1+o);for(f=0;l>f;++f)p[f]="i"+f;for(f=0;l>f;++f)p[f+l]="j"+f;p[2*l]="oval";var g=new Array(o);for(f=0;o>f;++f)g[f]="opt"+f,p[2*l+1+f]="opt"+f;h.push("var data=array.data,offset=array.offset,shape=array.shape,stride=array.stride");for(var f=0;l>f;++f)h.push(["var stride",f,"=stride[",t[f],"]|0,shape",f,"=shape[",t[f],"]|0"].join("")),f>0?h.push(["var astep",f,"=(stride",f,"-stride",f-1,"*shape",f-1,")|0"].join("")):h.push(["var astep",f,"=stride",f,"|0"].join("")),f>0?h.push(["var vstep",f,"=(vstep",f-1,"*shape",f-1,")|0"].join("")):h.push(["var vstep",f,"=1"].join("")),h.push(["var i",f,"=0,j",f,"=0,k",f,"=0,ustep",f,"=vstep",f,"|0,bstep",f,"=astep",f,"|0"].join(""));for(h.push("var a_ptr=offset>>>0,b_ptr=0,u_ptr=0,v_ptr=0,i=0,d=0,val=0,oval=0"),h.push("var count="+a(l).map(function(t){return"shape"+t}).join("*")),h.push("var visited=mallocUint8(count)"),h.push("for(;i<count;++i){visited[i]=0}"),f=l-1;f>=0;--f)h.push(["for(i",f,"=0;i",f,"<shape",f,";++i",f,"){"].join(""));for(h.push("if(!visited[v_ptr]){"),u?h.push("val=data.get(a_ptr)"):h.push("val=data[a_ptr]"),r?h.push("if(!skip(val)){"):h.push("if(val!==0){"),h.push("oval = val"),f=0;l>f;++f){for(h.push("u_ptr=v_ptr+vstep"+f),h.push("b_ptr=a_ptr+stride"+f),h.push(["j",f,"_loop: for(j",f,"=1+i",f,";j",f,"<shape",f,";++j",f,"){"].join("")),
c=f-1;c>=0;--c)h.push(["for(k",c,"=i",c,";k",c,"<j",c,";++k",c,"){"].join(""));for(h.push("if(visited[u_ptr]) { break j"+f+"_loop; }"),u?h.push("val=data.get(b_ptr)"):h.push("val=data[b_ptr]"),r&&e?h.push("if(skip(val) || !merge(oval,val)){ break j"+f+"_loop; }"):r?h.push("if(skip(val) || val !== oval){ break j"+f+"_loop; }"):e?h.push("if(val === 0 || !merge(oval,val)){ break j"+f+"_loop; }"):h.push("if(val === 0 || val !== oval){ break j"+f+"_loop; }"),h.push("++u_ptr"),h.push("b_ptr+=stride0"),h.push("}"),c=1;f>=c;++c)h.push("u_ptr+=ustep"+c),h.push("b_ptr+=bstep"+c),h.push("}");l-1>f&&(h.push("d=j"+f+"-i"+f),h.push(["ustep",f+1,"=(vstep",f+1,"-vstep",f,"*d)|0"].join("")),h.push(["bstep",f+1,"=(stride",f+1,"-stride",f,"*d)|0"].join("")))}for(h.push("u_ptr=v_ptr"),f=l-1;f>=0;--f)h.push(["for(k",f,"=i",f,";k",f,"<j",f,";++k",f,"){"].join(""));for(h.push("visited[u_ptr++]=1"),h.push("}"),f=1;l>f;++f)h.push("u_ptr+=ustep"+f),h.push("}");h.push("append("+p.join(",")+")"),h.push("}"),h.push("}"),h.push("++v_ptr");for(var f=0;l>f;++f)h.push("a_ptr+=astep"+f),h.push("}");h.push("freeUint8(visited)"),s.debug&&(console.log("GENERATING MESHER:"),console.log(h.join("\n")));var d=["append","mallocUint8","freeUint8"];e&&d.unshift("merge"),r&&d.unshift("skip");var y=["array"].concat(g),v=["greedyMesher",l,"d_ord",t.join("s"),r?"skip":"",e?"merge":""].join(""),w=["'use strict';function ",v,"(",y.join(","),"){",h.join("\n"),"};return ",v].join("");d.push(w);var A=Function.apply(void 0,d);return r&&e?A(r,e,n,i.mallocUint8,i.freeUint8):r?A(r,n,i.mallocUint8,i.freeUint8):e?A(e,n,i.mallocUint8,i.freeUint8):A(n,i.mallocUint8,i.freeUint8)}function o(t){if(t=t||{},!t.order)throw new Error("greedy-mesher: Missing order field");if(!t.append)throw new Error("greedy-mesher: Missing append field");return n(t.order,t.skip,t.merge,t.append,0|t.extraArgs,t,!!t.useGetter)}var i=e(12),a=(e(13),e(9));t.exports=o},function(t,r){"use strict";function e(t){for(var r=new Array(t),e=0;t>e;++e)r[e]=e;return r}t.exports=e},function(t,r){"use strict";"use restrict";function e(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}var n=32;r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(t){return(t>0)-(0>t)},r.abs=function(t){var r=t>>n-1;return(t^r)-r},r.min=function(t,r){return r^(t^r)&-(r>t)},r.max=function(t,r){return t^(t^r)&-(r>t)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var r,e;return r=(t>65535)<<4,t>>>=r,e=(t>255)<<3,t>>>=e,r|=e,e=(t>15)<<2,t>>>=e,r|=e,e=(t>3)<<1,t>>>=e,r|=e,r|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},r.countTrailingZeros=e,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var r=0;256>r;++r){var e=r,n=r,o=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--o;t[r]=n<<o&255}}(o),r.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},r.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},r.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},r.interleave3=function(t,r,e){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|e<<2},r.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},r.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>e(t)+1}},function(t,r){"use strict";function e(t,r,n){var o=0|t[n];if(0>=o)return[];var i,a=new Array(o);if(n===t.length-1)for(i=0;o>i;++i)a[i]=r;else for(i=0;o>i;++i)a[i]=e(t,r,n+1);return a}function n(t,r){var e,n;for(e=new Array(t),n=0;t>n;++n)e[n]=r;return e}function o(t,r){switch("undefined"==typeof r&&(r=0),typeof t){case"number":if(t>0)return n(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}t.exports=o},function(t,r,e){(function(t,n){"use strict";function o(t){if(t){var r=t.length||t.byteLength,e=w.log2(r);b[e].push(t)}}function i(t){o(t.buffer)}function a(t){var t=w.nextPow2(t),r=w.log2(t),e=b[r];return e.length>0?e.pop():new ArrayBuffer(t)}function s(t){return new Uint8Array(a(t),0,t)}function u(t){return new Uint16Array(a(2*t),0,t)}function f(t){return new Uint32Array(a(4*t),0,t)}function c(t){return new Int8Array(a(t),0,t)}function h(t){return new Int16Array(a(2*t),0,t)}function l(t){return new Int32Array(a(4*t),0,t)}function p(t){return new Float32Array(a(4*t),0,t)}function g(t){return new Float64Array(a(8*t),0,t)}function d(t){return E?new Uint8ClampedArray(a(t),0,t):s(t)}function y(t){return new DataView(a(t),0,t)}function v(t){t=w.nextPow2(t);var r=w.log2(t),e=j[r];return e.length>0?e.pop():new n(t)}var w=e(10),A=e(11);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:A([32,0]),UINT16:A([32,0]),UINT32:A([32,0]),INT8:A([32,0]),INT16:A([32,0]),INT32:A([32,0]),FLOAT:A([32,0]),DOUBLE:A([32,0]),DATA:A([32,0]),UINT8C:A([32,0]),BUFFER:A([32,0])});var E="undefined"!=typeof Uint8ClampedArray,m=t.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=A([32,0])),m.BUFFER||(m.BUFFER=A([32,0]));var b=m.DATA,j=m.BUFFER;r.free=function(t){if(n.isBuffer(t))j[w.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,e=0|w.log2(r);b[e].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=i,r.freeArrayBuffer=o,r.freeBuffer=function(t){j[w.log2(t.length)].push(t)},r.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return a(t);switch(r){case"uint8":return s(t);case"uint16":return u(t);case"uint32":return f(t);case"int8":return c(t);case"int16":return h(t);case"int32":return l(t);case"float":case"float32":return p(t);case"double":case"float64":return g(t);case"uint8_clamped":return d(t);case"buffer":return v(t);case"data":case"dataview":return y(t);default:return null}return null},r.mallocArrayBuffer=a,r.mallocUint8=s,r.mallocUint16=u,r.mallocUint32=f,r.mallocInt8=c,r.mallocInt16=h,r.mallocInt32=l,r.mallocFloat32=r.mallocFloat=p,r.mallocFloat64=r.mallocDouble=g,r.mallocUint8Clamped=d,r.mallocDataView=y,r.mallocBuffer=v,r.clearCache=function(){for(var t=0;32>t;++t)m.UINT8[t].length=0,m.UINT16[t].length=0,m.UINT32[t].length=0,m.INT8[t].length=0,m.INT16[t].length=0,m.INT32[t].length=0,m.FLOAT[t].length=0,m.DOUBLE[t].length=0,m.UINT8C[t].length=0,b[t].length=0,j[t].length=0}}).call(r,function(){return this}(),e(2).Buffer)},function(t,r){"use strict";function e(t,r){for(var e=1,n=t.length,o=t[0],i=t[0],a=1;n>a;++a)if(i=o,o=t[a],r(o,i)){if(a===e){e++;continue}t[e++]=o}return t.length=e,t}function n(t){for(var r=1,e=t.length,n=t[0],o=t[0],i=1;e>i;++i,o=n)if(o=n,n=t[i],n!==o){if(i===r){r++;continue}t[r++]=n}return t.length=r,t}function o(t,r,o){return 0===t.length?t:r?(o||t.sort(r),e(t,r)):(o||t.sort(),n(t))}t.exports=o},function(t,r){"use strict";"use restrict";function e(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}var n=32;r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(t){return(t>0)-(0>t)},r.abs=function(t){var r=t>>n-1;return(t^r)-r},r.min=function(t,r){return r^(t^r)&-(r>t)},r.max=function(t,r){return t^(t^r)&-(r>t)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var r,e;return r=(t>65535)<<4,t>>>=r,e=(t>255)<<3,t>>>=e,r|=e,e=(t>15)<<2,t>>>=e,r|=e,e=(t>3)<<1,t>>>=e,r|=e,r|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},r.countTrailingZeros=e,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var r=0;256>r;++r){var e=r,n=r,o=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--o;t[r]=n<<o&255}}(o),r.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},r.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},r.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},r.interleave3=function(t,r,e){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|e<<2},r.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},r.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>e(t)+1}},function(t,r){"use strict";function e(t,r,n){var o=0|t[n];if(0>=o)return[];var i,a=new Array(o);if(n===t.length-1)for(i=0;o>i;++i)a[i]=r;else for(i=0;o>i;++i)a[i]=e(t,r,n+1);return a}function n(t,r){var e,n;for(e=new Array(t),n=0;t>n;++n)e[n]=r;return e}function o(t,r){switch("undefined"==typeof r&&(r=0),typeof t){case"number":if(t>0)return n(0|t,r);break;case"object":if("number"==typeof t.length)return e(t,r,0)}return[]}t.exports=o},function(t,r,e){(function(t){"use strict";var n=e(14),o=e(15);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0])});var i=t.__TYPEDARRAY_POOL,a=i.UINT8,s=i.UINT16,u=i.UINT32,f=i.INT8,c=i.INT16,h=i.INT32,l=i.FLOAT,p=i.DOUBLE,g=i.DATA;r.free=function(t){if(t instanceof ArrayBuffer){var r=0|t.byteLength,e=n.log2(r);g[e].push(t)}else{var r=0|t.length,e=n.log2(r);t instanceof Uint8Array?a[e].push(t):t instanceof Uint16Array?s[e].push(t):t instanceof Uint32Array?u[e].push(t):t instanceof Int8Array?f[e].push(t):t instanceof Int16Array?c[e].push(t):t instanceof Int32Array?h[e].push(t):t instanceof Float32Array?l[e].push(t):t instanceof Float64Array&&p[e].push(t)}},r.freeUint8=function(t){a[n.log2(t.length)].push(t)},r.freeUint16=function(t){s[n.log2(t.length)].push(t)},r.freeUint32=function(t){u[n.log2(t.length)].push(t)},r.freeInt8=function(t){f[n.log2(t.length)].push(t)},r.freeInt16=function(t){c[n.log2(t.length)].push(t)},r.freeInt32=function(t){h[n.log2(t.length)].push(t)},r.freeFloat32=r.freeFloat=function(t){l[n.log2(t.length)].push(t)},r.freeFloat64=r.freeDouble=function(t){p[n.log2(t.length)].push(t)},r.freeArrayBuffer=function(t){g[n.log2(t.length)].push(t)},r.malloc=function(t,r){t=n.nextPow2(t);var e=n.log2(t);if(void 0===r){var o=g[e];if(o.length>0){var i=o[o.length-1];return o.pop(),i}return new ArrayBuffer(t)}switch(r){case"uint8":var d=a[e];return d.length>0?d.pop():new Uint8Array(t);case"uint16":var y=s[e];return y.length>0?y.pop():new Uint16Array(t);case"uint32":var v=u[e];return v.length>0?v.pop():new Uint32Array(t);case"int8":var w=f[e];return w.length>0?w.pop():new Int8Array(t);case"int16":var A=c[e];return A.length>0?A.pop():new Int16Array(t);case"int32":var E=h[e];return E.length>0?E.pop():new Int32Array(t);case"float":case"float32":var m=l[e];return m.length>0?m.pop():new Float32Array(t);case"double":case"float64":var b=p[e];return b.length>0?b.pop():new Float64Array(t);default:return null}return null},r.mallocUint8=function(t){t=n.nextPow2(t);var r=n.log2(t),e=a[r];return e.length>0?e.pop():new Uint8Array(t)},r.mallocUint16=function(t){t=n.nextPow2(t);var r=n.log2(t),e=s[r];return e.length>0?e.pop():new Uint16Array(t)},r.mallocUint32=function(t){t=n.nextPow2(t);var r=n.log2(t),e=u[r];return e.length>0?e.pop():new Uint32Array(t)},r.mallocInt8=function(t){t=n.nextPow2(t);var r=n.log2(t),e=f[r];return e.length>0?e.pop():new Int8Array(t)},r.mallocInt16=function(t){t=n.nextPow2(t);var r=n.log2(t),e=c[r];return e.length>0?e.pop():new Int16Array(t)},r.mallocInt32=function(t){t=n.nextPow2(t);var r=n.log2(t),e=h[r];return e.length>0?e.pop():new Int32Array(t)},r.mallocFloat32=r.mallocFloat=function(t){t=n.nextPow2(t);var r=n.log2(t),e=l[r];return e.length>0?e.pop():new Float32Array(t)},r.mallocFloat64=r.mallocDouble=function(t){t=n.nextPow2(t);var r=n.log2(t),e=p[r];return e.length>0?e.pop():new Float64Array(t)},r.mallocArrayBuffer=function(t){t=n.nextPow2(t);var r=n.log2(t),e=g[r];return e.length>0?e.pop():new ArrayBuffer(t)},r.clearCache=function(){for(var t=0;32>t;++t)a[t].length=0,s[t].length=0,u[t].length=0,f[t].length=0,c[t].length=0,h[t].length=0,l[t].length=0,p[t].length=0,g[t].length=0}}).call(r,function(){return this}())},function(t,r){"use strict";function e(t){for(var r=new Array(t),e=0;t>e;++e)r[e]=e;return r}t.exports=e},function(t,r){t.exports=function(t){return!(null==t||!(t._isBuffer||t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)))}},function(t,r,e){function n(t){var r;if(!(t instanceof ArrayBuffer))throw new Error("vox is not of type ArrayBuffer");r=new DataView(t),i.equal(r.getUint32(0,!0),542658390),i.equal(r.getUint32(4,!0),150),i.equal(r.getUint32(20,!0),1163544915);var e=r.getUint32(32,!0)+1,n=r.getUint32(40,!0)+1,a=r.getUint32(36,!0)+1;i.equal(r.getUint32(44,!0),1230657880);for(var s=r.getUint32(56,!0),u=o(new Int32Array(e*n*a),[e,n,a]),f=60,c=0;s>c;c++){var h=r.getUint8(f,!0),l=r.getUint8(f+2,!0),p=r.getUint8(f+1,!0),g=r.getUint8(f+3,!0);u.set(h,l,p,g),f+=4}return u}var o=e(1),i=e(20);t.exports=n},function(t,r,e){function n(t,r){return p.isUndefined(r)?""+r:p.isNumber(r)&&!isFinite(r)?r.toString():p.isFunction(r)||p.isRegExp(r)?r.toString():r}function o(t,r){return p.isString(t)?t.length<r?t:t.slice(0,r):t}function i(t){return o(JSON.stringify(t.actual,n),128)+" "+t.operator+" "+o(JSON.stringify(t.expected,n),128)}function a(t,r,e,n,o){throw new y.AssertionError({message:e,actual:t,expected:r,operator:n,stackStartFunction:o})}function s(t,r){t||a(t,!0,r,"==",y.ok)}function u(t,r){if(t===r)return!0;if(p.isBuffer(t)&&p.isBuffer(r)){if(t.length!=r.length)return!1;for(var e=0;e<t.length;e++)if(t[e]!==r[e])return!1;return!0}return p.isDate(t)&&p.isDate(r)?t.getTime()===r.getTime():p.isRegExp(t)&&p.isRegExp(r)?t.source===r.source&&t.global===r.global&&t.multiline===r.multiline&&t.lastIndex===r.lastIndex&&t.ignoreCase===r.ignoreCase:p.isObject(t)||p.isObject(r)?c(t,r):t==r}function f(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function c(t,r){if(p.isNullOrUndefined(t)||p.isNullOrUndefined(r))return!1;if(t.prototype!==r.prototype)return!1;if(p.isPrimitive(t)||p.isPrimitive(r))return t===r;var e=f(t),n=f(r);if(e&&!n||!e&&n)return!1;if(e)return t=g.call(t),r=g.call(r),u(t,r);var o,i,a=v(t),s=v(r);if(a.length!=s.length)return!1;for(a.sort(),s.sort(),i=a.length-1;i>=0;i--)if(a[i]!=s[i])return!1;for(i=a.length-1;i>=0;i--)if(o=a[i],!u(t[o],r[o]))return!1;return!0}function h(t,r){return t&&r?"[object RegExp]"==Object.prototype.toString.call(r)?r.test(t):t instanceof r?!0:r.call({},t)===!0:!1}function l(t,r,e,n){var o;p.isString(e)&&(n=e,e=null);try{r()}catch(i){o=i}if(n=(e&&e.name?" ("+e.name+").":".")+(n?" "+n:"."),t&&!o&&a(o,e,"Missing expected exception"+n),!t&&h(o,e)&&a(o,e,"Got unwanted exception"+n),t&&o&&e&&!h(o,e)||!t&&o)throw o}var p=e(27),g=Array.prototype.slice,d=Object.prototype.hasOwnProperty,y=t.exports=s;y.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=i(this),this.generatedMessage=!0);var r=t.stackStartFunction||a;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var e=new Error;if(e.stack){var n=e.stack,o=r.name,s=n.indexOf("\n"+o);if(s>=0){var u=n.indexOf("\n",s+1);n=n.substring(u+1)}this.stack=n}}},p.inherits(y.AssertionError,Error),y.fail=a,y.ok=s,y.equal=function(t,r,e){t!=r&&a(t,r,e,"==",y.equal)},y.notEqual=function(t,r,e){t==r&&a(t,r,e,"!=",y.notEqual)},y.deepEqual=function(t,r,e){u(t,r)||a(t,r,e,"deepEqual",y.deepEqual)},y.notDeepEqual=function(t,r,e){u(t,r)&&a(t,r,e,"notDeepEqual",y.notDeepEqual)},y.strictEqual=function(t,r,e){t!==r&&a(t,r,e,"===",y.strictEqual)},y.notStrictEqual=function(t,r,e){t===r&&a(t,r,e,"!==",y.notStrictEqual)},y["throws"]=function(t,r,e){l.apply(this,[!0].concat(g.call(arguments)))},y.doesNotThrow=function(t,r){l.apply(this,[!1].concat(g.call(arguments)))},y.ifError=function(t){if(t)throw t};var v=Object.keys||function(t){var r=[];for(var e in t)d.call(t,e)&&r.push(e);return r}},function(t,r,e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function r(t){var r=t.charCodeAt(0);return r===a||r===h?62:r===s||r===l?63:u>r?-1:u+10>r?r-u+26+26:c+26>r?r-c:f+26>r?r-f+26:void 0}function e(t){function e(t){f[h++]=t}var n,o,a,s,u,f;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;u="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,f=new i(3*t.length/4-u),a=u>0?t.length-4:t.length;var h=0;for(n=0,o=0;a>n;n+=4,o+=3)s=r(t.charAt(n))<<18|r(t.charAt(n+1))<<12|r(t.charAt(n+2))<<6|r(t.charAt(n+3)),e((16711680&s)>>16),e((65280&s)>>8),e(255&s);return 2===u?(s=r(t.charAt(n))<<2|r(t.charAt(n+1))>>4,e(255&s)):1===u&&(s=r(t.charAt(n))<<10|r(t.charAt(n+1))<<4|r(t.charAt(n+2))>>2,e(s>>8&255),e(255&s)),f}function o(t){function r(t){return n.charAt(t)}function e(t){return r(t>>18&63)+r(t>>12&63)+r(t>>6&63)+r(63&t)}var o,i,a,s=t.length%3,u="";for(o=0,a=t.length-s;a>o;o+=3)i=(t[o]<<16)+(t[o+1]<<8)+t[o+2],u+=e(i);switch(s){case 1:i=t[t.length-1],u+=r(i>>2),u+=r(i<<4&63),u+="==";break;case 2:i=(t[t.length-2]<<8)+t[t.length-1],u+=r(i>>10),u+=r(i>>4&63),u+=r(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),f="a".charCodeAt(0),c="A".charCodeAt(0),h="-".charCodeAt(0),l="_".charCodeAt(0);t.toByteArray=e,t.fromByteArray=o}(r)},function(t,r){r.read=function(t,r,e,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,f=u>>1,c=-7,h=e?o-1:0,l=e?-1:1,p=t[r+h];for(h+=l,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+t[r+h],h+=l,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+t[r+h],h+=l,c-=8);if(0===i)i=1-f;else{if(i===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),i-=f}return(p?-1:1)*a*Math.pow(2,i-n)},r.write=function(t,r,e,n,o,i){var a,s,u,f=8*i-o-1,c=(1<<f)-1,h=c>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,g=n?1:-1,d=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,a=c):(a=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-a))<1&&(a--,u*=2),r+=a+h>=1?l/u:l*Math.pow(2,1-h),r*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(r*u-1)*Math.pow(2,o),a+=h):(s=r*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[e+p]=255&s,p+=g,s/=256,o-=8);for(a=a<<o|s,f+=o;f>0;t[e+p]=255&a,p+=g,a/=256,f-=8);t[e+p-g]|=128*d}},function(t,r){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,r){function e(){f=!1,a.length?u=a.concat(u):c=-1,u.length&&n()}function n(){if(!f){var t=setTimeout(e);f=!0;for(var r=u.length;r;){for(a=u,u=[];++c<r;)a&&a[c].run();c=-1,r=u.length}a=null,f=!1,clearTimeout(t)}}function o(t,r){this.fun=t,this.array=r}function i(){}var a,s=t.exports={},u=[],f=!1,c=-1;s.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)r[e-1]=arguments[e];u.push(new o(t,r)),1!==u.length||f||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,r){"function"==typeof Object.create?t.exports=function(t,r){t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,r){t.super_=r;var e=function(){};e.prototype=r.prototype,t.prototype=new e,t.prototype.constructor=t}},function(t,r){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,r,e){(function(t,n){function o(t,e){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(e)?n.showHidden=e:e&&r._extend(n,e),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),u(n,t,n.depth)}function i(t,r){var e=o.styles[r];return e?"["+o.colors[e][0]+"m"+t+"["+o.colors[e][1]+"m":t}function a(t,r){return t}function s(t){var r={};return t.forEach(function(t,e){r[t]=!0}),r}function u(t,e,n){if(t.customInspect&&e&&_(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(n,t);return A(o)||(o=u(t,o,n)),o}var i=f(t,e);if(i)return i;var a=Object.keys(e),d=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),U(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(_(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(b(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(I(e))return t.stylize(Date.prototype.toString.call(e),"date");if(U(e))return c(e)}var v="",w=!1,E=["{","}"];if(g(e)&&(w=!0,E=["[","]"]),_(e)){var m=e.name?": "+e.name:"";v=" [Function"+m+"]"}if(b(e)&&(v=" "+RegExp.prototype.toString.call(e)),I(e)&&(v=" "+Date.prototype.toUTCString.call(e)),U(e)&&(v=" "+c(e)),0===a.length&&(!w||0==e.length))return E[0]+v+E[1];if(0>n)return b(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var j;return j=w?h(t,e,n,d,a):a.map(function(r){return l(t,e,n,d,r,w)}),t.seen.pop(),p(j,v,E)}function f(t,r){if(m(r))return t.stylize("undefined","undefined");if(A(r)){var e="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(e,"string")}return w(r)?t.stylize(""+r,"number"):d(r)?t.stylize(""+r,"boolean"):y(r)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,r,e,n,o){for(var i=[],a=0,s=r.length;s>a;++a)S(r,String(a))?i.push(l(t,r,e,n,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(t,r,e,n,o,!0))}),i}function l(t,r,e,n,o,i){var a,s,f;if(f=Object.getOwnPropertyDescriptor(r,o)||{value:r[o]},f.get?s=f.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):f.set&&(s=t.stylize("[Setter]","special")),S(n,o)||(a="["+o+"]"),s||(t.seen.indexOf(f.value)<0?(s=y(e)?u(t,f.value,null):u(t,f.value,e-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),m(a)){if(i&&o.match(/^\d+$/))return s;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,r,e){var n=0,o=t.reduce(function(t,r){return n++,r.indexOf("\n")>=0&&n++,t+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?e[0]+(""===r?"":r+"\n ")+" "+t.join(",\n  ")+" "+e[1]:e[0]+r+" "+t.join(", ")+" "+e[1]}function g(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return null==t}function w(t){return"number"==typeof t}function A(t){return"string"==typeof t}function E(t){return"symbol"==typeof t}function m(t){return void 0===t}function b(t){return j(t)&&"[object RegExp]"===T(t)}function j(t){return"object"==typeof t&&null!==t}function I(t){return j(t)&&"[object Date]"===T(t)}function U(t){return j(t)&&("[object Error]"===T(t)||t instanceof Error)}function _(t){return"function"==typeof t}function x(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function T(t){return Object.prototype.toString.call(t)}function R(t){return 10>t?"0"+t.toString(10):t.toString(10)}function B(){var t=new Date,r=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],r].join(" ")}function S(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var P=/%[sdj%]/g;r.format=function(t){if(!A(t)){for(var r=[],e=0;e<arguments.length;e++)r.push(o(arguments[e]));return r.join(" ")}for(var e=1,n=arguments,i=n.length,a=String(t).replace(P,function(t){if("%%"===t)return"%";if(e>=i)return t;switch(t){case"%s":return String(n[e++]);case"%d":return Number(n[e++]);case"%j":try{return JSON.stringify(n[e++])}catch(r){return"[Circular]"}default:return t}}),s=n[e];i>e;s=n[++e])a+=y(s)||!j(s)?" "+s:" "+o(s);return a},r.deprecate=function(e,o){function i(){if(!a){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(m(t.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(n.noDeprecation===!0)return e;var a=!1;return i};var O,L={};r.debuglog=function(t){if(m(O)&&(O=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var e=n.pid;L[t]=function(){var n=r.format.apply(r,arguments);console.error("%s %d: %s",t,e,n)}}else L[t]=function(){};return L[t]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=g,r.isBoolean=d,r.isNull=y,r.isNullOrUndefined=v,r.isNumber=w,r.isString=A,r.isSymbol=E,r.isUndefined=m,r.isRegExp=b,r.isObject=j,r.isDate=I,r.isError=U,r.isFunction=_,r.isPrimitive=x,r.isBuffer=e(26);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",B(),r.format.apply(r,arguments))},r.inherits=e(25),r._extend=function(t,r){if(!r||!j(r))return t;for(var e=Object.keys(r),n=e.length;n--;)t[e[n]]=r[e[n]];return t}}).call(r,function(){return this}(),e(24))},function(t,r,e){"use strict";function n(t){switch(t){case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float":case"float32":return Float32Array;case"double":case"float64":return Float64Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"buffer":case"data":case"dataview":return ArrayBuffer;case"array":return Array}}var o=e(1);t.exports=function(t,r){r=r||"float64";for(var e=1,i=0;i<t.length;++i)e*=t[i];return o(new(n(r))(e),t)}},function(t,r){t.exports=[0,16777215,13434879,10092543,6750207,3407871,65535,16764159,13421823,10079487,6737151,3394815,52479,16751103,13408767,10066431,6724095,3381759,39423,16738047,13395711,10053375,6711039,3368703,26367,16724991,13382655,10040319,6697983,3355647,13311,16711935,13369599,10027263,6684927,3342591,255,16777164,13434828,10092492,6750156,3407820,65484,16764108,13421772,10079436,6737100,3394764,52428,16751052,13408716,10066380,6724044,3381708,39372,16737996,13395660,10053324,6710988,3368652,26316,16724940,13382604,10040268,6697932,3355596,13260,16711884,13369548,10027212,6684876,3342540,204,16777113,13434777,10092441,6750105,3407769,65433,16764057,13421721,10079385,6737049,3394713,52377,16751001,13408665,10066329,6723993,3381657,39321,16737945,13395609,10053273,6710937,3368601,26265,16724889,13382553,10040217,6697881,3355545,13209,16711833,13369497,10027161,6684825,3342489,153,16777062,13434726,10092390,6750054,3407718,65382,16764006,13421670,10079334,6736998,3394662,52326,16750950,13408614,10066278,6723942,3381606,39270,16737894,13395558,10053222,6710886,3368550,26214,16724838,13382502,10040166,6697830,3355494,13158,16711782,13369446,10027110,6684774,3342438,102,16777011,13434675,10092339,6750003,3407667,65331,16763955,13421619,10079283,6736947,3394611,52275,16750899,13408563,10066227,6723891,3381555,39219,16737843,13395507,10053171,6710835,3368499,26163,16724787,13382451,10040115,6697779,3355443,13107,16711731,13369395,10027059,6684723,3342387,51,16776960,13434624,10092288,6749952,3407616,65280,16763904,13421568,10079232,6736896,3394560,52224,16750848,13408512,10066176,6723840,3381504,39168,16737792,13395456,10053120,6710784,3368448,26112,16724736,13382400,10040064,6697728,3355392,13056,16711680,13369344,10027008,6684672,3342336,238,221,187,170,136,119,85,68,34,17,60928,56576,47872,43520,34816,30464,21760,17408,8704,4352,15597568,14483456,12255232,11141120,8912896,7798784,5570560,4456448,2228224,1114112,15658734,14540253,12303291,11184810,8947848,7829367,5592405,4473924,2236962,1118481].map(function(t){var r=new THREE.Color(t),e=new THREE.Color;return e.r=r.b,e.g=r.g,e.b=r.r,e})}]);